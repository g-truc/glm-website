<?xml version="1.0" encoding="iso-8859-1" standalone="no"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html><head xmlns="http://www.w3.org/1999/xhtml"><title>NaN</title><meta content="en" http-equiv="Content-Language" /><meta content="application/xhtml+xml; charset=iso-8859-1" http-equiv="Content-Type" /><meta content="G-Truc Creation" name="copyright" /><link type="text/css" media="screen, print, embossed" rel="stylesheet" href="../common/style.css" /><link type="text/css" media="screen, print, embossed" rel="stylesheet" href="../common/code.css" /><script type="text/javascript">
        		var _gaq = _gaq || [];
        		_gaq.push(['_setAccount', 'UA-20182250-1']);
        		_gaq.push(['_setDomainName', '.g-truc.net']);
        		_gaq.push(['_trackPageview']);

        		(function() 
        		{
        			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        		})();
      		</script></head><body><div class="root"><div class="version"><div><a xmlns="http://www.w3.org/1999/xhtml" href="http://glm.g-truc.net">GLM</a> <a xmlns="http://www.w3.org/1999/xhtml" class="active" href="http://gli.g-truc.net">GLI</a> </div><a xmlns="http://www.w3.org/1999/xhtml" href="../0.4.1/index.html">0.4.1</a> </div><table><tr><td class="menu"><div xmlns="http://www.w3.org/1999/xhtml" class="menu"><div class="menu-logo"><a href="../goodies/splash.png"><img alt="Logo" src="../common/logo.png" class="menu-img" /></a></div><div class="menu-entry1"><a href="https://sourceforge.net/projects/ogl-image/files/gli-0.5.0.0/gli-0.5.0.0.zip/download" class="menu">Download GLI 0.5.0.0</a></div><br /><div><a href="http://www.g-truc.net"><img alt="G-Truc Creation" src="../common/g-truc.jpg" class="menu-img" /></a></div></div></td><td class="page"><h3>Code samples</h3><span xmlns="http://www.w3.org/1999/xhtml" class="code-title">Create a texture with GLI 0.4 and save it to a DDS file:</span><ul xmlns="http://www.w3.org/1999/xhtml" class="code-list"><li class="code-line"><span class="code-line-content"><span class="keyword">#include </span><span class="string">&lt;glm/glm.hpp&gt;</span></span></li><li class="code-line"><span class="code-line-content"><span class="keyword">#include </span><span class="string">&lt;gli/gli.hpp&gt;</span></span></li><li class="code-line"><span class="code-line-content" /></li><li class="code-line"><span class="code-line-content"><span class="comment">// Allocated a 32 bits texture with one mipmap level</span></span></li><li class="code-line"><span class="code-line-content">
        gli::texture2D Texture(1, gli::RGBA8_UNORM, gli::texture2D::dimensions_type(256, 256));
      </span></li><li class="code-line"><span class="code-line-content">
        glm::u8vec4 * LinearAddress = Texture.data&lt;glm::u8vec4&gt;();
      </span></li><li class="code-line"><span class="code-line-content">
        ...
      </span></li><li class="code-line"><span class="code-line-content"><span class="comment">// Do something</span></span></li><li class="code-line"><span class="code-line-content">
        ...
      </span></li><li class="code-line"><span class="code-line-content">
        gli::saveStorageDDS(Texture, "texture.dds");
      </span></li></ul><span xmlns="http://www.w3.org/1999/xhtml" class="code-title">Create an OpenGL 4.2 texture with GLI 0.4:</span><ul xmlns="http://www.w3.org/1999/xhtml" class="code-list"><li class="code-line"><span class="code-line-content"><span class="keyword">#include </span><span class="string">&lt;gli/gli.hpp&gt;</span></span></li><li class="code-line"><span class="code-line-content" /></li><li class="code-line"><span class="code-line-content"><span class="comment">// </span></span></li><li class="code-line"><span class="code-line-content">
        gli::texture2D Texture(gli::loadStorageDDS("kueken2.dds"));
      </span></li><li class="code-line"><span class="code-line-content">
        assert(!Texture.empty());
      </span></li><li class="code-line"><span class="code-line-content" /></li><li class="code-line"><span class="code-line-content">
        glBindTexture(GL_TEXTURE_2D, TextureName);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_BASE_LEVEL, 0);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAX_LEVEL, GLint(Texture.levels() - 1));
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_SWIZZLE_R, GL_RED);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_SWIZZLE_G, GL_GREEN);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_SWIZZLE_B, GL_BLUE);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_SWIZZLE_A, GL_ALPHA);
      </span></li><li class="code-line"><span class="code-line-content">
        glTexStorage2D(GL_TEXTURE_2D,
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        GLint(Texture.levels()),
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        GLenum(gli::internal_format(Texture.format())),
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        GLsizei(Texture.dimensions().x),
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        GLsizei(Texture.dimensions().y));
      </span></li><li class="code-line"><span class="code-line-content" /></li><li class="code-line"><span class="code-line-content">
        if(gli::is_compressed(Texture.format()))
      </span></li><li class="code-line"><span class="code-line-content">
        {
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        for(gli::texture2D::size_type Level = 0; Level &lt; Texture.levels(); ++Level)
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        {
      </span></li><li class="code-line"><span style="padding-left:64px" class="code-line-content">
        glCompressedTexSubImage2D(GL_TEXTURE_2D,
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLint(Level),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        0, 0,
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLsizei(Texture[Level].dimensions().x),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLsizei(Texture[Level].dimensions().y),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLenum(gli::internal_format(Texture.format())),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLsizei(Texture[Level].size()),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        Texture[Level].data());
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        }
      </span></li><li class="code-line"><span class="code-line-content">
        }
      </span></li><li class="code-line"><span class="code-line-content">
        else
      </span></li><li class="code-line"><span class="code-line-content">
        {
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        for(gli::texture2D::size_type Level = 0; Level &lt; Texture.levels(); ++Level)
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        {
      </span></li><li class="code-line"><span style="padding-left:64px" class="code-line-content">
        glTexSubImage2D(GL_TEXTURE_2D,
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLint(Level),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        0, 0,
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLsizei(Texture[Level].dimensions().x),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLsizei(Texture[Level].dimensions().y),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLenum(gli::external_format(Texture.format())),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        GLenum(gli::type_format(Texture.format())),
      </span></li><li class="code-line"><span style="padding-left:96px" class="code-line-content">
        Texture[Level].data());
      </span></li><li class="code-line"><span style="padding-left:32px" class="code-line-content">
        }
      </span></li><li class="code-line"><span class="code-line-content">
        }
      </span></li></ul></td></tr></table></div></body></html>